# PulseTrader 数据采集配置文件
# 基于 YAML 格式的配置管理

# Akshare 数据源配置
akshare:
  # API调用配置
  timeout: 30          # 请求超时时间（秒）
  max_retries: 3       # 最大重试次数
  delay: 1.0          # 请求间隔（秒）

  # 数据类型配置
  data_types:
    stock_info:
      enabled: true
      update_interval: "1d"      # 更新频率
      retry_on_error: true

    realtime:
      enabled: true
      update_interval: "10s"     # 实时数据更新频率
      trading_hours_only: true   # 仅交易时间获取

    historical:
      enabled: true
      update_interval: "1d"      # 历史数据更新频率
      batch_size: 50            # 批量获取数量
      max_days_per_request: 365 # 单次请求最大天数

    financial:
      enabled: true
      update_interval: "1d"
      quarterly_update: true    # 季度更新

# 数据存储配置
storage:
  clickhouse:
    batch_size: 1000           # 批量插入大小
    connection_timeout: 30     # 连接超时

  cache:
    redis:
      ttl: 3600              # 缓存过期时间（秒）
      max_memory: "100MB"     # 最大内存使用

# 错误处理配置
error_handling:
  max_consecutive_errors: 5   # 最大连续错误次数
  error_backoff_factor: 2     # 错误退避因子
  notification_enabled: false # 错误通知开关

# 日志配置
logging:
  level: "INFO"               # 日志级别
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  file: "logs/data_collection.log"  # 日志文件路径
  max_size: "10MB"           # 单个日志文件最大大小
  backup_count: 5            # 保留的日志文件数量

# 性能优化配置
performance:
  concurrent_workers: 4       # 并发工作线程数
  memory_limit: "1GB"        # 内存使用限制
  rate_limiting: true        # 是否启用速率限制

# 数据质量配置
data_quality:
  enable_validation: true     # 启用数据验证
  duplicate_check: true      # 重复数据检查
  missing_data_threshold: 0.1 # 缺失数据阈值（10%）
